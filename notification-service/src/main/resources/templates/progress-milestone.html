<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Milestone Achievement - Quikkkk Learning Platform</title>
    <style>
        /* Тільки критичні стилі, які не підтримуються inline */
    </style>
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background-color: #f8fafc;">
<div class="container" style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);">

    <!-- Header Section -->
    <div class="header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; position: relative;">
        <div class="celebration" th:if="${isCompleted}" style="font-size: 48px; margin: 20px 0;">🎊🎉🏆</div>
        <div class="celebration" th:unless="${isCompleted}" style="font-size: 48px; margin: 20px 0;">⭐🎯📚</div>
        <h1 style="margin: 0; font-size: 32px; font-weight: 600; position: relative; z-index: 1;">Milestone Achieved!</h1>
        <div class="milestone-badge" th:text="${milestone}" style="display: inline-block; background: rgba(255, 255, 255, 0.2); border: 2px solid rgba(255, 255, 255, 0.3); border-radius: 50px; padding: 15px 30px; margin: 20px 0; font-size: 28px; font-weight: bold; position: relative; z-index: 1;">50%</div>
    </div>

    <!-- Content Section -->
    <div class="content" style="padding: 40px 30px; text-align: center;">
        <div class="student-name" style="color: #667eea; font-size: 20px; font-weight: 600; margin-bottom: 10px;">Hello <span th:text="${studentName}">John Doe</span>! 👋</div>
        <div class="course-name" style="font-size: 18px; color: #4a5568; margin-bottom: 30px;">
            Course: <strong th:text="${courseName}">Web Development Fundamentals</strong>
        </div>

        <!-- Congratulations Message -->
        <div class="congrats-message" style="font-size: 18px; color: #2d3748; margin: 20px 0; font-weight: 500; background: linear-gradient(135deg, #fff5f5 0%, #fed7e2 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #f56565;">
            <span th:text="${congratsMessage}">🌟 Well done! You're making great progress!</span>
        </div>

        <!-- Progress Section -->
        <div class="progress-section" style="background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%); border-radius: 16px; padding: 30px; margin: 30px 0; border: 1px solid #e2e8f0;">
            <h3 style="margin-top: 0; color: #4a5568;">Your Progress</h3>

            <div class="progress-bar-container" style="background-color: #e2e8f0; height: 12px; border-radius: 6px; overflow: hidden; margin: 20px 0; box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);">
                <div class="progress-bar" th:style="'width: ' + ${progressBarWidth} + '%; background: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%); height: 100%; border-radius: 6px;'" th:attr="style='width: ' + ${progressBarWidth} + '%; background: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%); height: 100%; border-radius: 6px;'"></div>
            </div>

            <div style="margin: 15px 0; font-size: 18px; font-weight: 600; color: #2d3748;">
                <span th:text="${completionPercentage}">50</span>% Complete
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid" style="display: flex; justify-content: space-around; margin: 30px 0; flex-wrap: wrap;">
                <div class="stat-card" style="background: white; border-radius: 12px; padding: 20px; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07); border: 1px solid #e2e8f0; min-width: 120px; margin: 5px;">
                    <span class="stat-number" style="font-size: 24px; font-weight: bold; color: #667eea; display: block;" th:text="${completedLessons}">12</span>
                    <div class="stat-label" style="font-size: 12px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px; margin-top: 5px;">Completed</div>
                </div>
                <div class="stat-card" style="background: white; border-radius: 12px; padding: 20px; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07); border: 1px solid #e2e8f0; min-width: 120px; margin: 5px;">
                    <span class="stat-number" style="font-size: 24px; font-weight: bold; color: #667eea; display: block;" th:text="${totalLessons}">24</span>
                    <div class="stat-label" style="font-size: 12px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px; margin-top: 5px;">Total Lessons</div>
                </div>
                <div class="stat-card" style="background: white; border-radius: 12px; padding: 20px; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07); border: 1px solid #e2e8f0; min-width: 120px; margin: 5px;">
                    <span class="stat-number" style="font-size: 24px; font-weight: bold; color: #667eea; display: block;" th:text="${remainingLessons}">12</span>
                    <div class="stat-label" style="font-size: 12px; color: #718096; text-transform: uppercase; letter-spacing: 0.5px; margin-top: 5px;">Remaining</div>
                </div>
            </div>
        </div>

        <!-- Next Steps -->
        <div class="next-step" style="background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%); color: #2b6cb0; padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #3182ce;">
            <strong>What's Next?</strong><br>
            <span th:text="${nextStepMessage}">Keep up the excellent work!</span>
        </div>

        <!-- Achievement Date -->
        <div class="achievement-date" style="font-size: 14px; color: #718096; margin-top: 20px;">
            Achieved on <span th:text="${achievedAt}">September 15, 2025, at 14:30</span>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer" style="background-color: #f7fafc; padding: 30px; text-align: center; font-size: 12px; color: #718096; border-top: 1px solid #e2e8f0;">
        <p>© 2025 Quikkkk Learning Platform. All rights reserved.</p>
        <p>
            Need help? Contact us at
            <a href="#" th:href="'mailto:' + ${supportEmail}" class="footer-link" style="color: #667eea; text-decoration: none;" th:text="${supportEmail}">support@quikkkk.dev</a>
        </p>
        <p>This is an automated message, please do not reply to this email.</p>
    </div>
</div>
</body>
</html>